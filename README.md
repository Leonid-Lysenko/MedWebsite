# Медицинский диагностический помощник

Веб-приложение для предварительной диагностики заболеваний на основе симптомов с использованием машинного обучения. Разработано в рамках курсовой работы по теме "Разработка системы поддержки принятия врачебного решения на основе машинного обучения для диагностики заболеваний по симптомам".

## Содержание

- [Функциональность](#функциональность)
- [Технологический стек](#технологический-стек)
- [Архитектура системы](#архитектура-системы)
- [Установка и запуск](#установка-и-запуск)
- [ML-модель](#ml-модель)
- [Тестирование](#тестирование)
- [Структура проекта](#структура-проекта)
- [Ограничения](#ограничения)
- [Документация](#документация)
- [Контакты](#контакты)

## Функциональность

### Основные возможности:
- **Диагностика заболеваний** - анализ симптомов и определение наиболее вероятных заболеваний
- **База знаний** - алфавитный каталог заболеваний с детальной информацией
- **Интерактивный интерфейс** - удобный выбор симптомов с поиском и фильтрацией
- **Визуализация результатов** - наглядное представление вероятностей диагнозов
- **Адаптивный дизайн** - корректное отображение на различных устройствах

### Дополнительные функции:
- Поиск заболеваний в базе знаний
- Детальная информация о заболеваниях (описание, лечение, симптомы)
- Интеграция с картой медицинских учреждений
- Печать и сохранение результатов диагностики

## Технологический стек

### Backend:
- **Python 3.12** - основной язык программирования
- **Django 4.2** - веб-фреймворк
- **Scikit-learn** - машинное обучение
- **Joblib** - сериализация ML-моделей
- **NumPy** - научные вычисления

### Frontend:
- **HTML/CSS** - разметка и стили
- **Bootstrap 5** - CSS-фреймворк
- **JavaScript** - клиентская логика
- **Font Awesome** - иконки

### Инструменты разработки:
- **Pytest** - тестирование
- **Black, isort, flake8** - форматирование и линтинг
- **Selenium** - E2E тестирование
- **GitHub Actions** - CI

## Архитектура системы

### Компоненты системы:

1. **Модуль диагностики** (`diagnosis/views.py`)
   - Обработка пользовательских запросов
   - Взаимодействие с ML-моделью
   - Формирование результатов диагностики

2. **ML-компонент** (`ml/models/lr_model_full_data.joblib`)
   - Алгоритм Logistic Regression
   - Точность: 86%
   - Обучена на 429 заболеваниях и 304 симптомах

3. **База знаний** (`diagnosis/disease_data.py`)
   - Словарь DISEASE_DATABASE с информацией о заболеваниях
   - Структурированные данные: описание, лечение, симптомы, серьезность

4. **Пользовательский интерфейс**
   - Адаптивные шаблоны Django
   - Интерактивные элементы на Bootstrap 5
   - Клиентская валидация данных

### Поток данных:
Пользователь → Выбор симптомов → Векторизация → ML-модель →
→ Ранжирование заболеваний → Форматирование результатов →
→ Отображение пользователю


## Установка и запуск

### Предварительные требования:
- Python 3.12+
- pip (менеджер пакетов Python)
- Git

### Шаги установки:

1. **Клонирование репозитория:**

```bash
git clone <repository-url>
cd MedWebsite
```

### Создание виртуального окружения:

```bash
python -m venv venv
source venv/bin/activate  # Linux/MacOS
venv\Scripts\activate     # Windows
```

### Установка зависимостей:

```bash
pip install -r requirements.txt
```


### Запуск сервера:

```bash
cd backend
python manage.py runserver
```

### Открытие в браузере:

```bash
http://localhost:8000
```


## ML-модель

### Характеристики модели:

   - Алгоритм: Logistic Regression
   - Точность: 86% (кросс-валидация)
   - Количество классов: 429 заболеваний
   - Количество признаков: 304 симптома
   - Размер обучающей выборки: 240,000+ случаев


## Тестирование

### Уровни тестирования:

   - 97 unit-тестов - проверка отдельных компонентов
   - 36 интеграционных тестов - валидация взаимодействия модулей
   - 3 end-to-end теста - тестирование полных сценариев

Общий процент успешного прохождения тестов составляет 100%. Покрытие кода тестами достигает 97%.

### Запуск тестов

```bash
cd backend
python -m pytest -v
```

### Проверка качества кода

```bash
black --check .
isort --check-only .
flake8 .
```

## Структура проекта

MedWebsite/

├── backend/                # Django приложение

│   ├── medical_site/       # Настройки проекта

│   ├── diagnosis/          # Основное приложение

│   │   ├── views.py        # Бизнес-логика

│   │   ├── disease_data.py # База знаний заболеваний

│   │   ├── urls.py         # Маршрутизация

│   │   └── tests/          # Тесты

│   ├── templates/          # HTML шаблоны

│   │   └── diagnosis/      # Шаблоны приложения

│   └── static/             # Статические файлы

├── docs/                   # Файлы документации

├── ml/                     # ML компоненты

│   └── models/             # Обученные модели

├── requirements.txt        # Зависимости Python

└── pyproject.toml          # Конфигурация инструментов

## Ограничения

   - Обучающая выборка может не охватывать редкие заболевания
   - Точность зависит от количества и качества введенных симптомов
   - Отсутствует персонализация на основе анамнеза пациента
   - Отсутствует мультиязычная поддержка
   - Не является медицинским устройством
   - Не заменяет консультацию врача

## Документация

Для более полного ознакомления предлагается изучение следующих документов в **MedWebsite/docs/**:

   - ARCHITECTURE.md - описание общей архитектуры системы и взаимодействия компонентов
   - ML_MODEL.md - детализация используемого алгоритма машинного обучения и методология его применения
   - INSTALL.md - руководство по развертыванию и настройке системы
   - API.md - документация интеграции с внешниеми сервисами для картографии и навигации
   - TESTING.md - описание стратегии и методологии тестирования
   - USER_GUIDE.md - руководство пользователя системы



## Контакты

Автор: Лысенко Леонид Максимович, студент 2 курса СПбГУ

Email: st128618@student.spbu.ru